<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Journey</title>
    <style>
        :root {
            --primary-red: #ff4d6d;
            --soft-pink: #fff0f3;
            --dark-red: #800e13;
            --parchment: #fffaf0;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--soft-pink);
            overflow: hidden;
        }

        /* STAGES */
        #login-screen, #gallery-screen, #letter-screen, #question-screen, #planner-screen, #final-celebration {
            position: fixed;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.8s cubic-bezier(0.77, 0, 0.175, 1), opacity 0.8s ease, filter 0.8s ease;
        }

        #login-screen { background-color: #ffb3c1; z-index: 600; justify-content: center; }

        .login-gif-container {
            width: 150px;
            margin-bottom: 20px;
            pointer-events: auto;
        }

        .login-gif-container img {
            width: 100%;
            height: auto;
        }

        #passInput {
            width: 80%;
            max-width: 250px;
            padding: 12px;
            border-radius: 20px;
            border: 2px solid var(--primary-red);
            text-align: center;
            outline: none;
        }

        #gallery-screen { background-color: var(--soft-pink); z-index: 500; justify-content: flex-start; padding: 40px 20px; overflow-y: auto; }

        #letter-screen {
            background-color: var(--parchment);
            z-index: 400;
            justify-content: flex-start;
            padding: 60px 30px;
            text-align: center;
            overflow-y: auto;
        }

        #question-screen { background-color: rgba(255, 240, 243, 0.95); z-index: 700; display: none; opacity: 0; justify-content: center; text-align: center; }
        #planner-screen { background-color: var(--soft-pink); z-index: 800; display: none; opacity: 0; justify-content: center; padding: 20px; }

        #final-celebration {
            background-color: var(--soft-pink);
            z-index: 900;
            display: none;
            opacity: 0;
            justify-content: center;
            pointer-events: none;
        }

        .gif-container {
            width: 80%;
            max-width: 400px;
            z-index: 1000;
            pointer-events: auto;
        }

        .gif-container img {
            width: 100%;
            height: auto;
        }

        /* TRANSITIONS */
        .slide-up { transform: translateY(-100%); }
        .slide-down { transform: translateY(100%); }
        .blur-effect { filter: blur(20px); opacity: 0; }

        /* GALLERY */
        .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; max-width: 800px; width: 100%; margin-top: 20px; }
        .photo-card { background: white; padding: 10px; border-radius: 5px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); opacity: 0; transform: scale(0.9); transition: 0.5s; }
        .photo-card.reveal { opacity: 1; transform: scale(1); }
        .photo-card img { width: 100%; border-radius: 3px; height: 250px; object-fit: cover; }
        .photo-caption { margin-top: 10px; font-size: 0.9rem; font-weight: bold; color: var(--dark-red); text-align: center; }

        /* PLANNER & BUTTONS */
        .planner-group { background: white; padding: 15px; border-radius: 15px; margin: 10px; width: 90%; max-width: 400px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        select, input[type="time"] { width: 100%; padding: 10px; border-radius: 10px; border: 1px solid var(--primary-red); margin-top: 5px; }
        .btn-red { background-color: var(--primary-red); color: white; border: none; padding: 15px 35px; border-radius: 30px; cursor: pointer; font-size: 1.1rem; font-weight: bold; margin: 10px 0; }

        .heart-float {
            position: absolute;
            bottom: -50px;
            color: var(--primary-red);
            font-size: 20px;
            user-select: none;
            animation: floatUp linear forwards;
            z-index: 950;
        }

        @keyframes floatUp {
            to { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>

<audio id="bg-audio" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<div id="login-screen">
    <div class="login-gif-container">
        <img src="login.gif" alt="Welcome">
    </div>
    <h2 style="text-align:center; padding: 0 20px; font-size: 1.2rem;">HI BABY SOPI I MADE THIS FOR U <3</h2>
    <input type="password" id="passInput" placeholder="Password...">
    <button class="btn-red" onclick="unlockGallery()">UNLOCK MY SURPRISE!!</button>
    <button onclick="document.getElementById('hint').style.display='block'" style="background:none; border:none; color:var(--dark-red); cursor:pointer; text-decoration:underline;">Need a hint?</button>
    <p id="hint" style="display:none; font-style:italic;">Hint: Secret Muna üòõüòõüòõ</p>
</div>

<div id="gallery-screen">
    <h1>Our Favorite Moments</h1>
    <div class="gallery">
        <div class="photo-card"><img src="https://i.ibb.co/v6zkzBbt/a1490ceb-04f4-460f-8c64-d7c58205da04.jpg"><div class="photo-caption">The Day We First met üå∑üé•</div></div>
        <div class="photo-card"><img src="https://i.ibb.co/FL82BTt4/12b6cfaa-975f-422b-9202-c31b31487238.jpg"><div class="photo-caption">The Best Date‚òÄÔ∏èüåÖ</div></div>
        <div class="photo-card"><img src="https://i.ibb.co/n4Jfhyb/3394c709-6c13-4d0c-9d5f-9b24aaf294a0-1.jpg"><div class="photo-caption">Our Best Photo üì∑üì∑</div></div>
    </div>
    <button class="btn-red" style="margin-top: 50px;" onclick="unlockLetter()">Read My Letter to You ‚Üì</button>
</div>

<div id="letter-screen">
    <h1 style="color: var(--primary-red);">My Dearest Sopi,</h1>
    <div id="typewriter" style="max-width: 600px; line-height: 1.8; font-size: 1.15rem; font-family: Georgia; padding: 0 10px; color: #4a332e;"></div>
    <div id="heart-icon" style="font-size: 2.5rem; margin-top: 30px; display:none;">‚ù§Ô∏è</div>
    <button id="next-to-question" class="btn-red" style="display:none; margin-bottom: 50px;" onclick="showQuestion()">Next Surprise ‚ú®</button>
</div>

<div id="question-screen">
    <h1 style="font-size: 2.5rem; color: var(--primary-red); padding: 0 10px;">Will you be my Valentine? üíñ</h1>
    <div style="display: flex; gap: 15px;">
        <button class="btn-red" onclick="showPlanner()">YES! ü•∞</button>
        <button id="no-btn" class="btn-red" style="background:#999;" onmouseover="moveNo()" onclick="moveNo()">No üò¢</button>
    </div>
</div>

<div id="planner-screen">
    <h2 style="color: var(--primary-red); text-align: center;">Let's Plan Our Date! üóìÔ∏è</h2>
    <div class="planner-group"><label>Where are we eating?</label>
        <select id="food"><option>Inasal üçó</option><option>Mcdo üçü</option><option>Samgyupsal ü•ì</option></select>
    </div>
    <div class="planner-group"><label>Couple shirt color?</label>
        <select id="shirtColor"><option>Green üíö</option><option>Maroon ‚ù§Ô∏è</option><option>White ü§ç</option></select>
    </div>
    <div class="planner-group"><label>What time?</label><input type="time" id="meetTime"></div>
    <button class="btn-red" onclick="triggerCelebration()">DONE! SEE U SOON! ‚ù§Ô∏è</button>
</div>

<div id="final-celebration">
    <div class="gif-container">
        <img src="final.gif" alt="Celebration">
    </div>
</div>

<script>
    function unlockGallery() {
        if (document.getElementById('passInput').value === "12/15/2024") {
            // Start background music
            const audio = document.getElementById('bg-audio');
            audio.play().catch(e => console.log("Audio play failed:", e));

            document.getElementById('login-screen').classList.add('slide-up');
            document.querySelectorAll('.photo-card').forEach((card, i) => {
                setTimeout(() => card.classList.add('reveal'), 500 + (i * 300));
            });
        } else { alert("Wrong password!"); }
    }

    function unlockLetter() {
        document.getElementById('gallery-screen').classList.add('slide-down');
        setTimeout(typeWriter, 800);
    }

    const message = "I was trying to find the right words to tell you how much you mean to me, but honestly, no amount of code or text could ever be enough to capture what I feel. Looking back at our journey, from the very first time we spoke to our 'bossing' call sign, every single moment has become a core memory for me. \n\nYou aren't just my girlfriend; you're my best friend, my peace, and my safest home. I love the way you make me smile even on the hardest days, and how just seeing your name pop up on my phone can change my entire mood. I love our random talks, our late-night conversations, and even the quiet moments where we don't have to say anything at all because just being with you is enough.\n\nThank you for staying by my side, for being patient with me, and for simply being the amazing person you are. You have a way of making the world feel a little brighter and life a little easier. I promise to keep choosing you, day after day, and to keep making you feel as special as you truly are.\n\nThis little website is just a small piece of my heart‚Äîa digital space for us to keep our memories. I love you more than words can say, more than this letter can hold, and more than you‚Äôll ever truly know. I can‚Äôt wait for all the dates, the laughs, and the future we‚Äôre building together.\n\nAlways yours,\n[Your Hubby Oxen]";

    function typeWriter() {
        let i = 0; const target = document.getElementById("typewriter");
        function type() {
            if (i < message.length) {
                target.innerHTML += message.charAt(i) === "\n" ? "<br>" : message.charAt(i);
                i++;
                document.getElementById('letter-screen').scrollTop = document.getElementById('letter-screen').scrollHeight;
                setTimeout(type, 35);
            } else {
                document.getElementById('heart-icon').style.display='block';
                document.getElementById('next-to-question').style.display='block';
            }
        } type();
    }

    function showQuestion() {
        document.getElementById('letter-screen').classList.add('blur-effect');
        const q = document.getElementById('question-screen');
        q.style.display = 'flex'; setTimeout(() => q.style.opacity = '1', 50);
    }

    function moveNo() {
        const btn = document.getElementById('no-btn');
        btn.style.position = 'absolute';
        btn.style.left = Math.random() * (window.innerWidth - 100) + 'px';
        btn.style.top = Math.random() * (window.innerHeight - 100) + 'px';
    }

    function showPlanner() {
        document.getElementById('question-screen').style.display = 'none';
        const p = document.getElementById('planner-screen');
        p.style.display = 'flex'; setTimeout(() => p.style.opacity = '1', 50);
    }

    function triggerCelebration() {
        document.getElementById('planner-screen').classList.add('blur-effect');
        const final = document.getElementById('final-celebration');
        final.style.display = 'flex';
        setTimeout(() => final.style.opacity = '1', 50);
        for(let i=0; i<150; i++) { setTimeout(createHeart, i * 30); }
    }

    function createHeart() {
        const heart = document.createElement('div');
        heart.classList.add('heart-float');
        heart.innerHTML = '‚ù§Ô∏è';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
    }
</script>
</body>
</html>
